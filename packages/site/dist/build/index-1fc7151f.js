import{S as t,i as e,s,x as n,c as a,z as o,A as i,B as r,y as l,f as u,g as c,P as m,Q as d,e as f,a as p,D as b,t as E,b as T,d as S,o as w,E as x,l as A,p as g,R,k as N,F as v,r as P,n as $,C as I,G as h}from"./main.js";import{P as y}from"./Password-e9b9fe57.js";import{a as C,s as G}from"./session-1b5cfdc6.js";import"./client-76b8804a.js";import"./quickNotifications-8de91e3f.js";import"./createStatusStore-326fc155.js";function U(t){let e,s,n,o,r,c,$,I,h,C,G,U,_,j,z,k,D,M,Q,H,O,W,q="AUTHENTICATING"===t[3]?"Einen Moment...":"Anmelden";function B(e){t[7](e)}let F={id:"password"};return void 0!==t[1]&&(F.value=t[1]),U=new y({props:F}),m.push(()=>d(U,"value",B)),{c(){e=f("form"),s=f("h1"),s.textContent="Anmelden",n=p(),o=f("div"),r=f("label"),r.textContent="Email",c=p(),$=f("input"),I=p(),h=f("div"),C=f("label"),C.textContent="Password",G=p(),b(U.$$.fragment),j=p(),z=f("button"),z.textContent="Passwort vergessen?",k=p(),D=f("button"),M=E(q),T(r,"for","email"),T($,"type","text"),T($,"id","email"),T(o,"class","mb-5"),T(C,"for","password"),T(h,"class","mb-5"),T(z,"type","button"),T(z,"class","mb-8 text-gray-800 btn"),D.disabled=Q="AUTHENTICATING"===t[3],T(D,"class","w-full py-3 text-white bg-teal-600 rounded btn"),T(e,"class","w-64")},m(i,l){a(i,e,l),S(e,s),S(e,n),S(e,o),S(o,r),S(o,c),S(o,$),w($,t[0]),S(e,I),S(e,h),S(h,C),S(h,G),x(U,h,null),S(e,j),S(e,z),S(e,k),S(e,D),S(D,M),H=!0,O||(W=[A($,"input",t[6]),A(z,"click",t[8]),A(e,"submit",g(t[9]))],O=!0)},p(t,e){1&e&&$.value!==t[0]&&w($,t[0]);const s={};!_&&2&e&&(_=!0,s.value=t[1],R(()=>_=!1)),U.$set(s),(!H||8&e)&&q!==(q="AUTHENTICATING"===t[3]?"Einen Moment...":"Anmelden")&&N(M,q),(!H||8&e&&Q!==(Q="AUTHENTICATING"===t[3]))&&(D.disabled=Q)},i(t){H||(l(U.$$.fragment,t),H=!0)},o(t){i(U.$$.fragment,t),H=!1},d(t){t&&u(e),v(U),O=!1,P(W)}}}function _(t){let e,s,n,o,i,r,l,c,m,d,b,x,R,v="REQUESTING_PASSWORD_RESET"===t[3]?"Einen Moment...":"Passwort zurücksetzen";return{c(){e=f("form"),s=f("h1"),s.textContent="Passwort zurücksetzen",n=p(),o=f("div"),i=f("label"),i.textContent="Email",r=p(),l=f("input"),c=p(),m=f("button"),d=E(v),T(i,"for","email"),T(l,"type","text"),T(l,"id","email"),T(o,"class","mb-5"),m.disabled=b="REQUESTING_PASSWORD_RESET"===t[3],T(m,"class","w-full py-3 text-white bg-teal-600 rounded btn"),T(e,"class","w-64")},m(u,f){a(u,e,f),S(e,s),S(e,n),S(e,o),S(o,i),S(o,r),S(o,l),w(l,t[0]),S(e,c),S(e,m),S(m,d),x||(R=[A(l,"input",t[4]),A(e,"submit",g(t[5]))],x=!0)},p(t,e){1&e&&l.value!==t[0]&&w(l,t[0]),8&e&&v!==(v="REQUESTING_PASSWORD_RESET"===t[3]?"Einen Moment...":"Passwort zurücksetzen")&&N(d,v),8&e&&b!==(b="REQUESTING_PASSWORD_RESET"===t[3])&&(m.disabled=b)},i:$,o:$,d(t){t&&u(e),x=!1,P(R)}}}function j(t){let e,s,c,m;const d=[_,U],f=[];function p(t,e){return t[2]?0:1}return e=p(t),s=f[e]=d[e](t),{c(){s.c(),c=n()},m(t,s){f[e].m(t,s),a(t,c,s),m=!0},p(t,[n]){let a=e;e=p(t),e===a?f[e].p(t,n):(o(),i(f[a],1,1,()=>{f[a]=null}),r(),s=f[e],s?s.p(t,n):(s=f[e]=d[e](t),s.c()),l(s,1),s.m(c.parentNode,c))},i(t){m||(l(s),m=!0)},o(t){i(s),m=!1},d(t){f[e].d(t),t&&u(c)}}}function z(t,e,s){let n;c(t,C,t=>s(3,n=t));let a="",o="",i=!1;return[a,o,i,n,function(){a=this.value,s(0,a)},()=>G.requestPasswordReset(a),function(){a=this.value,s(0,a)},function(t){o=t,s(1,o)},()=>s(2,i=!0),()=>G.login(a,o)]}class k extends t{constructor(t){super(),e(this,t,z,j,s,{})}}function D(t){let e,s;return e=new k({}),{c(){b(e.$$.fragment)},m(t,n){x(e,t,n),s=!0},p:$,i(t){s||(l(e.$$.fragment,t),s=!0)},o(t){i(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function M(t){let e,s=t[1]()+"";return{c(){e=E(s)},m(t,s){a(t,e,s)},p:$,i:$,o:$,d(t){t&&u(e)}}}function Q(t){let e,s,n,c;const m=[M,D],d=[];function p(t,e){return t[0].user?0:1}return s=p(t),n=d[s]=m[s](t),{c(){e=f("div"),n.c(),T(e,"class","flex items-center justify-center min-h-screen bg-gray-100")},m(t,n){a(t,e,n),d[s].m(e,null),c=!0},p(t,[a]){let u=s;s=p(t),s===u?d[s].p(t,a):(o(),i(d[u],1,1,()=>{d[u]=null}),r(),n=d[s],n?n.p(t,a):(n=d[s]=m[s](t),n.c()),l(n,1),n.m(e,null))},i(t){c||(l(n),c=!0)},o(t){i(n),c=!1},d(t){t&&u(e),d[s].d()}}}function H(t,e,s){let n,a;return c(t,h,t=>s(3,n=t)),c(t,G,t=>s(0,a=t)),I.title="My Routify app",I.description="Description coming soon...",[a,function(){const{role:t}=a.user;0===t&&n("/admins"),1===t&&n("/teachers/classes"),2===t&&n("/students/classes")}]}class O extends t{constructor(t){super(),e(this,t,H,Q,s,{})}}export{O as default};
//# sourceMappingURL=index-1fc7151f.js.map
