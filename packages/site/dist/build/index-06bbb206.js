import{S as e,i as t,s,e as n,a,t as r,x as l,b as i,c,d,n as o,f as m,g as f,C as u,u as h,I as x,J as g,k as p}from"./main.js";import{c as b,s as v}from"./classes-60edc9b1.js";import{g as w}from"./time-73fe1d75.js";import"./client-76b8804a.js";import"./quickNotifications-8de91e3f.js";import"./createStatusStore-326fc155.js";function y(e,t,s){const n=e.slice();return n[8]=t[s],n[10]=s,n}function j(e){let t;return{c(){t=n("div"),t.textContent="keine Klassen"},m(e,s){c(e,t,s)},p:o,d(e){e&&m(t)}}}function N(e){let t,s,r,l,o=[],f=new Map,u=e[0];const h=e=>e[8].id;for(let t=0;t<u.length;t+=1){let s=y(e,u,t),n=h(s);f.set(n,o[t]=E(n,s))}return{c(){t=n("div"),s=n("header"),s.innerHTML='<div class="w-3/12">Fach</div> \n      <div class="w-5/12 text-center">Lehrer</div> \n      <div class="w-1/12 text-center">Schüler</div> \n      <div class="w-3/12 text-center">Status</div>',r=a(),l=n("div");for(let e=0;e<o.length;e+=1)o[e].c();i(s,"class","hidden px-6 py-2 text-sm leading-none tracking-wide text-gray-600 bg-gray-200 border-b md:flex"),i(l,"class","bg-white"),i(t,"class","overflow-hidden border rounded shadow-md")},m(e,n){c(e,t,n),d(t,s),d(t,r),d(t,l);for(let e=0;e<o.length;e+=1)o[e].m(l,null)},p(e,t){27&t&&(u=e[0],o=x(o,t,h,1,e,u,f,l,g,E,null,y))},d(e){e&&m(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function C(e){let t;return{c(){t=n("p"),t.textContent="Loading..."},m(e,s){c(e,t,s)},p:o,d(e){e&&m(t)}}}function E(e,t){let s,l,o,f,u,h,x,g,b,v,y,j,N,C,E,I,O,S,_,L,T,k,A,R,G=t[8].subject+"",K=w(t[8].times)+"",P=t[8].teacher.first_name+" "+t[8].teacher.last_name,$=t[8].enrollments.length+"",D=t[3](t[8].state)+"";return{key:e,first:null,c(){s=n("a"),l=n("div"),o=n("div"),f=r(G),u=a(),h=n("div"),x=r(K),g=a(),b=n("div"),v=n("div"),y=r(P),j=a(),N=n("div"),C=n("div"),E=n("span"),E.textContent="Schüler:",I=a(),O=r($),S=a(),_=n("div"),L=n("div"),T=r(D),A=a(),i(h,"class","text-sm text-gray-700"),i(l,"class","w-full mb-2 sm:mb-0 sm:w-3/12"),i(b,"class","flex w-full mb-2 text-gray-700 sm:mb-0 sm:items-center sm:justify-center sm:w-5/12"),i(E,"class","sm:hidden"),i(N,"class","flex w-full mb-2 sm:mb-0 sm:items-center sm:justify-center sm:w-1/12"),i(L,"class",k="px-4 py-1 text-sm leading-none text-"+t[4](t[8].state)+"-600 bg-"+t[4](t[8].state)+"-100 rounded-full"),i(_,"class","flex w-full mb-2 sm:mb-0 sm:items-center sm:justify-center sm:w-3/12"),i(s,"href",R=t[1]("./"+t[8].id)),i(s,"class","flex flex-wrap px-6 py-3 text-gray-800 border-b hover:bg-gray-100"),this.first=s},m(e,t){c(e,s,t),d(s,l),d(l,o),d(o,f),d(l,u),d(l,h),d(h,x),d(s,g),d(s,b),d(b,v),d(v,y),d(s,j),d(s,N),d(N,C),d(C,E),d(C,I),d(C,O),d(s,S),d(s,_),d(_,L),d(L,T),d(s,A)},p(e,n){t=e,1&n&&G!==(G=t[8].subject+"")&&p(f,G),1&n&&K!==(K=w(t[8].times)+"")&&p(x,K),1&n&&P!==(P=t[8].teacher.first_name+" "+t[8].teacher.last_name)&&p(y,P),1&n&&$!==($=t[8].enrollments.length+"")&&p(O,$),1&n&&D!==(D=t[3](t[8].state)+"")&&p(T,D),1&n&&k!==(k="px-4 py-1 text-sm leading-none text-"+t[4](t[8].state)+"-600 bg-"+t[4](t[8].state)+"-100 rounded-full")&&i(L,"class",k),3&n&&R!==(R=t[1]("./"+t[8].id))&&i(s,"href",R)},d(e){e&&m(s)}}}function I(e){let t,s,f,u,h,x,g,p;function b(e,t){return"FETCHING"===e[2]?C:e[0].length>0?N:j}let v=b(e),w=v(e);return{c(){t=n("h1"),t.textContent="Klassen",s=a(),f=n("div"),u=n("a"),h=r("Neue Klasse erstellen"),g=a(),w.c(),p=l(),i(u,"href",x=e[1]("./new")),i(u,"class","text-gray-800 hover:text-teal-600"),i(f,"class","flex items-baseline justify-end mb-6")},m(e,n){c(e,t,n),c(e,s,n),c(e,f,n),d(f,u),d(u,h),c(e,g,n),w.m(e,n),c(e,p,n)},p(e,[t]){2&t&&x!==(x=e[1]("./new"))&&i(u,"href",x),v===(v=b(e))&&w?w.p(e,t):(w.d(1),w=v(e),w&&(w.c(),w.m(p.parentNode,p)))},i:o,o:o,d(e){e&&m(t),e&&m(s),e&&m(f),e&&m(g),w.d(e),e&&m(p)}}}function O(e,t,s){let n,a,r,l;f(e,b,e=>s(5,a=e)),f(e,h,e=>s(1,r=e)),f(e,v,e=>s(2,l=e)),u.title="Klassen",u.description="Description coming soon...",b.fetch();const i=[["IN_PREPARATION","in Vorbereitung","purple"],["OPEN_FOR_REGISTRATION","Anmeldung geöffnet","blue"],["ONGOING","laufend","yellow"],["COMPLETED","abgeschlossen","teal"],["CANCELLED","abgebrochen","red"]];return e.$$.update=()=>{32&e.$$.dirty&&s(0,n=a.sort((e,t)=>{let s=0;return e.state>t.state&&(s=-1),e.state<t.state&&(s=1),s}))},[n,r,l,function(e){return i.find(t=>t[0]===e)[1]},function(e){return i.find(t=>t[0]===e)[2]},a]}class S extends e{constructor(e){super(),t(this,e,O,I,s,{})}}export{S as default};
//# sourceMappingURL=index-06bbb206.js.map
