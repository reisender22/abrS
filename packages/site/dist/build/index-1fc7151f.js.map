{"version":3,"file":"index-1fc7151f.js","sources":["../../src/components/Login.svelte","../../src/pages/index.svelte"],"sourcesContent":["<script>\n  import Password from \"../components/Password.svelte\";\n\n  import { session, status } from \"../stores/session\";\n\n  let email = \"\";\n  let password = \"\";\n\n  let resetPassword = false;\n</script>\n\n{#if resetPassword}\n  <form\n    on:submit|preventDefault={() => session.requestPasswordReset(email)}\n    class=\"w-64\">\n    <h1>Passwort zurücksetzen</h1>\n\n    <div class=\"mb-5\">\n      <label for=\"email\">Email</label>\n      <input type=\"text\" bind:value={email} id=\"email\" />\n    </div>\n\n    <button\n      disabled={$status === 'REQUESTING_PASSWORD_RESET'}\n      class=\"w-full py-3 text-white bg-teal-600 rounded btn\">\n      {$status === 'REQUESTING_PASSWORD_RESET' ? 'Einen Moment...' : 'Passwort zurücksetzen'}\n    </button>\n  </form>\n{:else}\n  <form\n    on:submit|preventDefault={() => session.login(email, password)}\n    class=\"w-64\">\n    <h1>Anmelden</h1>\n\n    <div class=\"mb-5\">\n      <label for=\"email\">Email</label>\n      <input type=\"text\" bind:value={email} id=\"email\" />\n    </div>\n\n    <div class=\"mb-5\">\n      <label for=\"password\">Password</label>\n      <Password bind:value={password} id=\"password\" />\n    </div>\n\n    <button type=\"button\" on:click={() => (resetPassword = true)} class='mb-8 text-gray-800 btn'>Passwort vergessen?</button>\n\n    <button\n      disabled={$status === 'AUTHENTICATING'}\n      class=\"w-full py-3 text-white bg-teal-600 rounded btn\">\n      {$status === 'AUTHENTICATING' ? 'Einen Moment...' : 'Anmelden'}\n    </button>\n  </form>\n{/if}\n","<script>\n  import Login from \"../components/Login.svelte\";\n\n  import { session, status } from \"../stores/session\";\n  import { metatags, redirect } from \"@roxi/routify\";\n\n  metatags.title = \"My Routify app\";\n  metatags.description = \"Description coming soon...\";\n\n  function navigate() {\n    const { role } = $session.user;\n\n    if (role === 0) $redirect(\"/admins\");\n    if (role === 1) $redirect(\"/teachers/classes\");\n    if (role === 2) $redirect(\"/students/classes\");\n  }\n</script>\n\n<div class=\"flex items-center justify-center min-h-screen bg-gray-100\">\n  {#if $session.user}\n    {navigate()}\n  {:else}\n    <Login />\n  {/if}\n</div>\n"],"names":["t10_value","ctx","button1","disabled","button1_disabled_value","insert","target","form","anchor","append","h1","div0","label0","input","div1","label1","button0","current","dirty","set_data","t10","t5_value","button","button_disabled_value","div","label","t5","email","password","resetPassword","this","value","session","requestPasswordReset","$$invalidate","login","user","metatags","title","description","role","$session","$redirect"],"mappings":"ueAiDOA,EAAY,mBAAZC,KAA+B,kBAAoB,mEARtB,IAARA,EAAQ,aAARA,EAAQ,+fAMpBC,EAAAC,SAAAC,EAAY,mBAAZH,+FAlBdI,EAsBOC,EAAAC,EAAAC,GAnBLC,EAAiBF,EAAAG,UAEjBD,EAGMF,EAAAI,GAFJF,EAAgCE,EAAAC,UAChCH,EAAmDE,EAAAE,OAApBZ,EAAK,WAGtCQ,EAGMF,EAAAO,GAFJL,EAAsCK,EAAAC,6BAIxCN,EAAyHF,EAAAS,UAEzHP,EAISF,EAAAL,8GAdwBD,EAAK,QAALA,EAAK,sCAKdA,EAAQ,4BAQ7BgB,GAAA,EAAAC,IAAAlB,KAAAA,EAAY,mBAAZC,KAA+B,kBAAoB,aAAUkB,EAAAC,EAAApB,KAFpDiB,GAAA,EAAAC,GAAAd,KAAAA,EAAY,mBAAZH,mKAtBToB,EAAY,8BAAZpB,KAA0C,kBAAoB,6QAFrDqB,EAAAnB,SAAAoB,EAAY,8BAAZtB,+FAXdI,EAeOC,EAAAC,EAAAC,GAZLC,EAA8BF,EAAAG,UAE9BD,EAGMF,EAAAiB,GAFJf,EAAgCe,EAAAC,UAChChB,EAAmDe,EAAAX,OAApBZ,EAAK,WAGtCQ,EAISF,EAAAe,uFAPwBrB,EAAK,QAALA,EAAK,IAMnC,EAAAiB,GAAAG,KAAAA,EAAY,8BAAZpB,KAA0C,kBAAoB,0BAAuBkB,EAAAO,EAAAL,GAF5E,EAAAH,GAAAK,KAAAA,EAAY,8BAAZtB,4HAZXA,EAAa,GAAA,mVANZ,IAAA0B,EAAQ,GACRC,EAAW,GAEXC,GAAgB,4BAWeF,EAAKG,KAAAC,kBANNC,EAAQC,qBAAqBN,cAuB5BA,EAAKG,KAAAC,0BAKdH,EAAQG,UAGO,IAAAG,EAAA,EAAAL,GAAgB,GAdvB,IAAAG,EAAQG,MAAMR,EAAOC,gQCVpD3B,EAAQ,KAAA,+HADN,OAAAA,KAASmC,KAAI,wIADpB/B,EAMMC,EAAAkB,EAAAhB,ySAlBJ6B,EAASC,MAAQ,iBACjBD,EAASE,YAAc,sDAGbC,GAASC,EAASL,KAEb,IAATI,GAAYE,EAAU,WACb,IAATF,GAAYE,EAAU,qBACb,IAATF,GAAYE,EAAU"}