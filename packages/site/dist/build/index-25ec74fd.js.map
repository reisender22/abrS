{"version":3,"file":"index-25ec74fd.js","sources":["../../src/pages/admins/users/index.svelte"],"sourcesContent":["<script>\n  import { metatags, url } from \"@roxi/routify\";\n  import { users, status } from \"../../../stores/users\";\n\n  metatags.title = \"Benutzer\";\n\n  let role = \"STUDENT\";\n  let offset = \"0\";\n  let page_size = 25;\n\n  let showSearch = false;\n\n  $: users.fetch({ role, offset, page_size });\n\n  function toggleSearch() {\n    if (showSearch) {\n      showSearch = false;\n      users.fetch({ role, offset, page_size });\n    } else {\n      showSearch = true;\n    }\n  }\n</script>\n\n<h1>Benutzer</h1>\n\n<div class=\"flex flex-wrap items-end justify-between mb-6\">\n  {#if showSearch}\n    <input\n      on:input={(e) => users.search(e.target.value)}\n      class=\"w-2/3 inp\"\n      type=\"text\"\n      placeholder=\"Suchen...\" />\n  {:else}\n    <div\n      class=\"flex overflow-hidden text-sm text-teal-500 border border-teal-500 rounded-md\">\n      <input\n        class=\"hidden\"\n        type=\"radio\"\n        bind:group={role}\n        name=\"tabs\"\n        id=\"students\"\n        value=\"STUDENT\"\n        checked />\n      <label\n        for=\"students\"\n        class=\"block px-4 py-2 leading-none border-r border-teal-500\n          cursor-pointer {role === 'STUDENT' ? 'bg-teal-500 text-white' : 'text-teal-500'}\">\n        Sch√ºler\n      </label>\n\n      <input\n        class=\"hidden\"\n        type=\"radio\"\n        bind:group={role}\n        name=\"tabs\"\n        id=\"teachers\"\n        value=\"TEACHER\" />\n      <label\n        for=\"teachers\"\n        class=\"block px-4 py-2 leading-none border-r border-teal-500\n          cursor-pointer {role === 'TEACHER' ? 'bg-teal-500 text-white' : 'text-teal-500'}\">\n        Lehrer\n      </label>\n\n      <input\n        class=\"hidden\"\n        type=\"radio\"\n        bind:group={role}\n        name=\"tabs\"\n        id=\"admins\"\n        value=\"ADMIN\" />\n      <label\n        for=\"admins\"\n        class=\"block px-4 py-2 leading-none cursor-pointer {role === 'ADMIN' ? 'bg-teal-500 text-white' : 'text-teal-500'}\">\n        Admins\n      </label>\n    </div>\n  {/if}\n\n  <div class=\"flex items-center\">\n    <button\n      on:click={toggleSearch}\n      class=\"p-2 mr-3 text-teal-700 bg-gray-100 rounded-full hover:bg-teal-200\">\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        class=\"stroke-current\">\n        <circle cx=\"11\" cy=\"11\" r=\"8\" />\n        <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n      </svg>\n    </button>\n    <a\n      href={$url('./new')}\n      class=\"p-2 text-teal-700 bg-gray-100 rounded-full hover:bg-teal-200\">\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        class=\"stroke-current\">\n        <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\n        <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n      </svg>\n    </a>\n  </div>\n</div>\n\n{#if $status === 'FETCHING'}\n  <p>Loading...</p>\n{:else if $users.length > 0}\n  <div class=\"overflow-hidden border rounded shadow-md\">\n    <header\n      class=\"hidden px-6 py-2 text-sm leading-none tracking-wide text-gray-600 bg-gray-200 border-b sm:flex\">\n      <div class=\"w-4/12\">Name</div>\n      <div class=\"w-8/12\">Adresse</div>\n    </header>\n    <div class=\"bg-white\">\n      {#each $users as user, index (user.id)}\n        <a\n          href={$url('./' + user.id)}\n          class=\"flex flex-wrap px-6 py-3 text-gray-800 border-b hover:bg-gray-100\">\n          <div class=\"w-full mb-2 sm:mb-0 sm:w-4/12\">\n            <div>{user.first_name + ' ' + user.last_name}</div>\n            <div class=\"text-sm text-gray-700\">{user.email}</div>\n          </div>\n\n          <div class=\"flex items-center w-full mb-2 sm:mb-0 sm:w-8/12\">\n            <div>\n              {[\n                user.address_line_1,\n                user.address_line_2,\n                user.postal_code + ' ' + user.locality,\n                user.country,\n              ]\n                .filter(Boolean)\n                .join(', ')}\n            </div>\n          </div>\n        </a>\n      {/each}\n    </div>\n  </div>\n{:else}\n  <div>keine Benutzer</div>\n{/if}\n"],"names":["attr","label0","label0_class_value","ctx","label1","label1_class_value","label2","label2_class_value","insert","target","div","anchor","append","input0","input1","input2","dirty","input","get_key","id","length","i","div3","header","div2","p","t0_value","first_name","last_name","t2_value","email","address_line_1","address_line_2","postal_code","locality","country","filter","Boolean","join","a","a_href_value","div0","div1","div4","set_data","t0","t2","t4","t4_value","create_if_block_2","create_if_block","create_if_block_1","h1","button","svg1","line1","line2","metatags","title","role","showSearch","users","fetch","offset","page_size","$$invalidate","e","search","value","this","__value"],"mappings":"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"}