import{S as e,i as t,s as n,e as s,a as l,t as i,b as a,h as r,c as o,d as c,j as u,l as d,p as m,k as p,n as f,f as _,r as v,g as h,m as b,o as x,q as g,v as w,w as N,x as y,y as E,z as I,A as R,B as A,C as T,D as C,E as P,F as k,G as O,H as S,u as L,I as M,J as j,K as $}from"./main.js";import{g as D}from"./time-73fe1d75.js";import{f as G}from"./currency-0efccd32.js";import{u as U}from"./users-89c41aba.js";import{s as H,c as z}from"./class-1bdaf5f9.js";import{C as F}from"./CreateInvoiceModal-383082b4.js";import"./client-76b8804a.js";import"./quickNotifications-8de91e3f.js";import"./createStatusStore-326fc155.js";import"./classes-60edc9b1.js";function B(e){let t,n,i,r,u,m;return{c(){t=s("div"),n=s("label"),n.textContent="Stundenpreis",i=l(),r=s("input"),a(n,"for","custom_price_per_hour"),a(r,"type","number"),a(r,"min","0")},m(s,l){o(s,t,l),c(t,n),c(t,i),c(t,r),x(r,e[3]),u||(m=d(r,"input",e[7]),u=!0)},p(e,t){8&t&&g(r.value)!==e[3]&&x(r,e[3])},d(e){e&&_(t),u=!1,m()}}}function V(e){let t,n,h,b,x,g,w,N,y,E,I,R,A,T,C,P,k,O,S,L="UPDATING_ENROLLMENT"===e[2]?"Einen Moment...":"Speichern",M="custom"===e[1]&&B(e);return{c(){t=s("div"),n=s("header"),n.innerHTML='<p class="m-0 text-xl">Stundenpreis anpassen</p>',h=l(),b=s("div"),x=s("form"),g=s("div"),w=s("select"),N=s("option"),N.textContent="Standard",y=s("option"),y.textContent="Benutzerdefniert",E=l(),M&&M.c(),I=l(),R=s("footer"),A=s("button"),A.textContent="Abbrechen",T=l(),C=s("button"),P=i(L),a(n,"class","p-4 bg-white"),N.__value="standard",N.value=N.__value,y.__value="custom",y.value=y.__value,void 0===e[1]&&r(()=>e[6].call(w)),a(g,"class","mb-5"),a(b,"class","p-4 bg-white"),a(A,"class","btn btn--secondary"),C.disabled=k="UPDATING_ENROLLMENT"===e[2],a(C,"class","btn btn--primary"),a(R,"class","flex justify-between p-4 bg-gray-200"),a(t,"class","w-full overflow-hidden bg-gray-100 rounded shadow sm:w-2/3 md:w-1/2 lg:w-1/3 xl:w-1/4")},m(s,l){o(s,t,l),c(t,n),c(t,h),c(t,b),c(b,x),c(x,g),c(g,w),c(w,N),c(w,y),u(w,e[1]),c(x,E),M&&M.m(x,null),c(t,I),c(t,R),c(R,A),c(R,T),c(R,C),c(C,P),O||(S=[d(w,"change",e[6]),d(x,"input",m(e[5])),d(A,"click",e[8]),d(C,"click",e[9])],O=!0)},p(e,[t]){2&t&&u(w,e[1]),"custom"===e[1]?M?M.p(e,t):(M=B(e),M.c(),M.m(x,null)):M&&(M.d(1),M=null),4&t&&L!==(L="UPDATING_ENROLLMENT"===e[2]?"Einen Moment...":"Speichern")&&p(P,L),4&t&&k!==(k="UPDATING_ENROLLMENT"===e[2])&&(C.disabled=k)},i:f,o:f,d(e){e&&_(t),M&&M.d(),O=!1,v(S)}}}function q(e,t,n){let s;h(e,H,e=>n(2,s=e));let{enrollment:l}=t;H.reset();const i=b();let a=l.custom_price_per_hour?"custom":"standard",r=l.custom_price_per_hour?l.custom_price_per_hour:0;return e.$$set=e=>{"enrollment"in e&&n(0,l=e.enrollment)},e.$$.update=()=>{2&e.$$.dirty&&"standard"===a&&n(3,r=null),4&e.$$.dirty&&"UPDATED_ENROLLMENT"===s&&i("updated")},[l,a,s,r,i,function(t){w.call(this,e,t)},function(){a=N(this),n(1,a)},function(){r=g(this.value),n(3,r),n(1,a)},()=>i("cancel"),()=>z.updateEnrollment(l.id,{custom_price_per_hour:r})]}class K extends e{constructor(e){super(),t(this,e,q,V,n,{enrollment:0})}}function J(e,t,n){const s=e.slice();return s[42]=t[n].id,s[43]=t[n].first_name,s[44]=t[n].last_name,s[45]=t[n].email,s[47]=n,s}function W(e,t,n){const s=e.slice();return s[53]=t[n],s[47]=n,s}function Q(e,t,n){const s=e.slice();return s[51]=t[n],s[47]=n,s}function X(e,t,n){const s=e.slice();return s[42]=t[n].id,s[43]=t[n].first_name,s[44]=t[n].last_name,s[47]=n,s}function Y(e,t,n){const s=e.slice();return s[49]=t[n],s[50]=t,s[47]=n,s}function Z(e){let t,n,r,u,m,f,h,b,x,g,w,N,E,I,R,A,T,C,P,k,O,S,L,M,j,$,G,U,H,z,F,B,V,q,K,J,W,Q=e[8].subject+"",X=D(e[8].times)+"",Y=e[8].hoursUntilNextInvoice+"",Z=e[8].last_invoice_at&&te(e);function ee(e,t){return"settings"===e[0]&&"OPEN_FOR_REGISTRATION"===e[8].state?se:"students"===e[0]?ne:void 0}let re=ee(e),oe=re&&re(e);function ce(e,t){return"settings"===e[0]?ae:"students"===e[0]?ie:"lessons"===e[0]?le:void 0}let ue=ce(e),de=ue&&ue(e);return{c(){t=s("header"),n=s("h1"),r=i(Q),u=l(),m=s("div"),f=i(X),h=l(),b=s("div"),x=i("Stunden bis zur naechsten Rechnung:\n      "),g=s("span"),w=i(Y),N=l(),Z&&Z.c(),E=l(),I=s("div"),R=s("div"),A=s("input"),T=l(),C=s("label"),P=i("Einstellungen"),O=l(),S=s("input"),L=l(),M=s("label"),j=i("Schüler"),G=l(),U=s("input"),H=l(),z=s("label"),F=i("Unterrichte"),V=l(),oe&&oe.c(),q=l(),de&&de.c(),K=y(),a(m,"class","text-lg text-gray-700"),a(g,"class","text-teal-600"),a(b,"class","text-sm text-gray-600"),a(t,"class","mb-6"),a(A,"class","hidden"),a(A,"type","radio"),a(A,"name","tabs"),a(A,"id","settings"),A.__value="settings",A.value=A.__value,e[13][0].push(A),a(C,"for","settings"),a(C,"class",k="block px-4 py-2 leading-none border-r border-teal-500 cursor-pointer "+("settings"===e[0]?"bg-teal-500 text-white":"text-teal-500")),a(S,"class","hidden"),a(S,"type","radio"),a(S,"name","tabs"),a(S,"id","students"),S.__value="students",S.value=S.__value,e[13][0].push(S),a(M,"for","students"),a(M,"class",$="block px-4 py-2 leading-none border-r border-teal-500 cursor-pointer "+("students"===e[0]?"bg-teal-500 text-white":"text-teal-500")),a(U,"class","hidden"),a(U,"type","radio"),a(U,"name","tabs"),a(U,"id","lessons"),U.__value="lessons",U.value=U.__value,e[13][0].push(U),a(z,"for","lessons"),a(z,"class",B="block px-4 py-2 leading-none cursor-pointer "+("lessons"===e[0]?"bg-teal-500 text-white":"text-teal-500")),a(R,"class","flex overflow-hidden text-sm text-teal-500 border border-teal-500 rounded-md"),a(I,"class","flex flex-wrap items-end justify-between mb-6")},m(s,l){o(s,t,l),c(t,n),c(n,r),c(t,u),c(t,m),c(m,f),c(t,h),c(t,b),c(b,x),c(b,g),c(g,w),c(b,N),Z&&Z.m(b,null),o(s,E,l),o(s,I,l),c(I,R),c(R,A),A.checked=A.__value===e[0],c(R,T),c(R,C),c(C,P),c(R,O),c(R,S),S.checked=S.__value===e[0],c(R,L),c(R,M),c(M,j),c(R,G),c(R,U),U.checked=U.__value===e[0],c(R,H),c(R,z),c(z,F),c(I,V),oe&&oe.m(I,null),o(s,q,l),de&&de.m(s,l),o(s,K,l),J||(W=[d(A,"change",e[12]),d(S,"change",e[14]),d(U,"change",e[15])],J=!0)},p(e,t){256&t[0]&&Q!==(Q=e[8].subject+"")&&p(r,Q),256&t[0]&&X!==(X=D(e[8].times)+"")&&p(f,X),256&t[0]&&Y!==(Y=e[8].hoursUntilNextInvoice+"")&&p(w,Y),e[8].last_invoice_at?Z?Z.p(e,t):(Z=te(e),Z.c(),Z.m(b,null)):Z&&(Z.d(1),Z=null),1&t[0]&&(A.checked=A.__value===e[0]),1&t[0]&&k!==(k="block px-4 py-2 leading-none border-r border-teal-500 cursor-pointer "+("settings"===e[0]?"bg-teal-500 text-white":"text-teal-500"))&&a(C,"class",k),1&t[0]&&(S.checked=S.__value===e[0]),1&t[0]&&$!==($="block px-4 py-2 leading-none border-r border-teal-500 cursor-pointer "+("students"===e[0]?"bg-teal-500 text-white":"text-teal-500"))&&a(M,"class",$),1&t[0]&&(U.checked=U.__value===e[0]),1&t[0]&&B!==(B="block px-4 py-2 leading-none cursor-pointer "+("lessons"===e[0]?"bg-teal-500 text-white":"text-teal-500"))&&a(z,"class",B),re===(re=ee(e))&&oe?oe.p(e,t):(oe&&oe.d(1),oe=re&&re(e),oe&&(oe.c(),oe.m(I,null))),ue===(ue=ce(e))&&de?de.p(e,t):(de&&de.d(1),de=ue&&ue(e),de&&(de.c(),de.m(K.parentNode,K)))},d(n){n&&_(t),Z&&Z.d(),n&&_(E),n&&_(I),e[13][0].splice(e[13][0].indexOf(A),1),e[13][0].splice(e[13][0].indexOf(S),1),e[13][0].splice(e[13][0].indexOf(U),1),oe&&oe.d(),n&&_(q),de&&de.d(n),n&&_(K),J=!1,v(W)}}}function ee(e){let t;return{c(){t=s("p"),t.textContent="Loading..."},m(e,n){o(e,t,n)},p:f,d(e){e&&_(t)}}}function te(e){let t,n,s=new Date(1e3*e[8].last_invoice_at).toLocaleDateString()+"";return{c(){t=i(", letzte Rechnung am:\n        "),n=i(s)},m(e,s){o(e,t,s),o(e,n,s)},p(e,t){256&t[0]&&s!==(s=new Date(1e3*e[8].last_invoice_at).toLocaleDateString()+"")&&p(n,s)},d(e){e&&_(t),e&&_(n)}}}function ne(e){let t,n,l;return{c(){t=s("button"),t.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',a(t,"class","p-2 text-teal-700 bg-gray-100 rounded-full hover:bg-teal-200")},m(s,i){o(s,t,i),n||(l=d(t,"click",e[16]),n=!0)},p:f,d(e){e&&_(t),n=!1,l()}}}function se(e){let t,n,l,r,u,m="CREATING_FIRST_INVOICES"===e[1]?"Bitte warten...":"Rechnungen verschicken";return{c(){t=s("button"),n=i(m),a(t,"class","px-3 py-1 text-sm text-yellow-700 bg-yellow-200 border border-yellow-300 rounded btn"),t.disabled=l="CREATING_FIRST_INVOICES"===e[1]},m(e,s){o(e,t,s),c(t,n),r||(u=d(t,"click",z.createFirstInvoices),r=!0)},p(e,s){2&s[0]&&m!==(m="CREATING_FIRST_INVOICES"===e[1]?"Bitte warten...":"Rechnungen verschicken")&&p(n,m),2&s[0]&&l!==(l="CREATING_FIRST_INVOICES"===e[1])&&(t.disabled=l)},d(e){e&&_(t),r=!1,u()}}}function le(e){let t,n=[],s=new Map,l=e[8].lessons;const i=e=>e[53].id;for(let t=0;t<l.length;t+=1){let a=W(e,l,t),r=i(a);s.set(r,n[t]=oe(r,a))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);o(e,t,s)},p(e,a){256&a[0]&&(l=e[8].lessons,n=M(n,a,i,1,e,l,s,t.parentNode,j,oe,t,W))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&_(t)}}}function ie(e){let t,n,i,r,u=[],d=new Map,m=e[8].enrollments;const p=e=>e[51].id;for(let t=0;t<m.length;t+=1){let n=Q(e,m,t),s=p(n);d.set(s,u[t]=me(s,n))}return{c(){t=s("div"),n=s("header"),n.innerHTML='<div class="w-4/12">Name</div> \n        <div class="w-4/12">Anwesenheit</div> \n        <div class="w-2/12">Hausaufgaben</div> \n        <div class="w-1/12">Stundenpreis</div> \n        <div class="w-1/12"></div>',i=l(),r=s("div");for(let e=0;e<u.length;e+=1)u[e].c();a(n,"class","hidden px-6 py-2 text-sm leading-none tracking-wide text-gray-600 bg-gray-200 border-b md:flex"),a(r,"class","bg-white"),a(t,"class","overflow-hidden border rounded shadow-md")},m(e,s){o(e,t,s),c(t,n),c(t,i),c(t,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null)},p(e,t){1336&t[0]&&(m=e[8].enrollments,u=M(u,t,p,1,e,m,d,r,j,me,null,Q))},d(e){e&&_(t);for(let e=0;e<u.length;e+=1)u[e].d()}}}function ae(e){let t,n,f,h,b,w,N,y,E,I,R,A,T,C,P,k,O,S,L,D,G,U,H,F,B,V,q,K,J,W,Q,Z,ee,te,ne,se,le,ie,ae,re,oe,ce,ue,de,me,_e,ve,he,be,xe,ge,we,Ne,ye,Ee,Ie,Re,Ae,Te,Ce,Pe,ke,Oe,Se,Le,Me,je,$e,De,Ge,Ue,He,ze,Fe,Be,Ve,qe,Ke,Je,We,Qe,Xe,Ye,Ze,et,tt,nt,st=[],lt=new Map,it="UPDATING"===e[1]?"Speichert...":"Speichern",at=e[8].times,rt=[];for(let t=0;t<at.length;t+=1)rt[t]=pe(Y(e,at,t));let ot=e[9];const ct=e=>e[42];for(let t=0;t<ot.length;t+=1){let n=X(e,ot,t),s=ct(n);lt.set(s,st[t]=fe(s,n))}return{c(){t=s("form"),n=s("div"),f=s("label"),f.textContent="Name (optional)",h=l(),b=s("input"),w=l(),N=s("div"),y=s("label"),y.textContent="Fach",E=l(),I=s("input"),A=l(),T=s("div"),C=s("label"),C.textContent="Klasse für",P=l(),k=s("select"),O=s("option"),O.textContent="Brüder",S=s("option"),S.textContent="Schwestern",D=l(),G=s("div");for(let e=0;e<rt.length;e+=1)rt[e].c();U=l(),H=s("div"),F=s("label"),F.textContent="Lehrer",B=l(),V=s("select");for(let e=0;e<st.length;e+=1)st[e].c();K=l(),J=s("div"),W=s("div"),Q=s("label"),Q.textContent="Registrierungsgebühr (in Cents)",Z=l(),ee=s("input"),ne=l(),se=s("div"),le=s("label"),le.textContent="Registrierungsgebühr Angebot (in\n            Cents)",ie=l(),ae=s("input"),oe=l(),ce=s("div"),ue=s("div"),de=s("label"),de.textContent="Preis je Stunde (in Cents)",me=l(),_e=s("input"),he=l(),be=s("div"),xe=s("label"),xe.textContent="Stunden je Unterricht",ge=l(),we=s("input"),ye=l(),Ee=s("div"),Ie=s("div"),Re=s("label"),Re.textContent="Abrechnungszyklus in Stunden",Ae=l(),Te=s("input"),Pe=l(),ke=s("div"),Oe=s("label"),Oe.textContent="Status",Se=l(),Le=s("select"),Me=s("option"),Me.textContent="in Vorbereitung",je=s("option"),je.textContent="Registrierung geöffnet\n            ",$e=s("option"),$e.textContent="laufend",De=s("option"),De.textContent="abgeschlossen",Ge=s("option"),Ge.textContent="abgebrochen",Ue=l(),He=s("div"),ze=s("label"),ze.textContent="Beschreibung",Fe=l(),Be=s("textarea"),Ve=l(),qe=s("div"),Ke=s("label"),Ke.textContent="Notizen (nicht öffentlich)",Je=l(),We=s("textarea"),Qe=l(),Xe=s("div"),Ye=s("button"),Ze=i(it),a(f,"for","name"),a(b,"type","text"),a(b,"id","name"),a(n,"class","mb-5"),a(y,"for","subject"),a(I,"type","text"),a(I,"id","subject"),I.disabled=R="IN_PREPARATION"!==e[8].state,a(N,"class","mb-5"),a(C,"for","gender"),O.__value="MALE",O.value=O.__value,S.__value="FEMALE",S.value=S.__value,a(k,"id","gender"),k.disabled=L="IN_PREPARATION"!==e[8].state,void 0===e[8].gender&&r(()=>e[19].call(k)),a(T,"class","mb-5"),a(G,"class","flex flex-wrap mb-5 -mx-3"),a(F,"for","teacher_id"),a(V,"id","teacher_id"),V.disabled=q="IN_PREPARATION"!==e[8].state,void 0===e[8].teacher_id&&r(()=>e[23].call(V)),a(H,"class","mb-5"),a(Q,"for","registration_fee"),a(ee,"type","number"),a(ee,"id","registration_fee"),a(ee,"min","0"),ee.disabled=te="IN_PREPARATION"!==e[8].state,a(W,"class","w-full mx-3 mb-5 sm:mb-0 sm:w-1/2"),a(le,"for","registration_fee_offer"),a(ae,"type","number"),a(ae,"id","registration_fee_offer"),a(ae,"min","0"),ae.disabled=re="IN_PREPARATION"!==e[8].state,a(se,"class","w-full mx-3 sm:w-1/2"),a(J,"class","flex flex-wrap mb-5 -mx-3"),a(de,"for","price_per_hour"),a(_e,"type","number"),a(_e,"id","price_per_hour"),a(_e,"min","0"),_e.disabled=ve="IN_PREPARATION"!==e[8].state,a(ue,"class","w-full mx-3 mb-5 sm:mb-0 sm:w-1/2"),a(xe,"for","hours_per_lesson"),a(we,"type","number"),a(we,"id","hours_per_lesson"),a(we,"min","1"),we.disabled=Ne="IN_PREPARATION"!==e[8].state,a(be,"class","w-full mx-3 sm:w-1/2"),a(ce,"class","flex flex-wrap mb-5 -mx-3"),a(Re,"for","invoice_cycle"),a(Te,"type","number"),a(Te,"id","invoice_cycle"),a(Te,"min","0"),Te.disabled=Ce="IN_PREPARATION"!==e[8].state,a(Ie,"class","w-full mx-3 mb-5 sm:mb-0 sm:w-1/2"),a(Oe,"for","state"),Me.__value="IN_PREPARATION",Me.value=Me.__value,je.__value="OPEN_FOR_REGISTRATION",je.value=je.__value,$e.__value="ONGOING",$e.value=$e.__value,De.__value="COMPLETED",De.value=De.__value,Ge.__value="CANCELLED",Ge.value=Ge.__value,a(Le,"id","state"),void 0===e[8].state&&r(()=>e[29].call(Le)),a(ke,"class","w-full mx-3 sm:w-1/2"),a(Ee,"class","flex flex-wrap mb-5 -mx-3"),a(ze,"for","description"),a(Be,"rows","5"),a(Be,"id","description"),a(He,"class","mb-5"),a(Ke,"for","notes"),a(We,"rows","3"),a(We,"id","notes"),a(qe,"class","mb-5"),a(Ye,"class","btn btn--primary"),Ye.disabled=et="UPDATING"===e[1],a(Xe,"class","flex justify-between")},m(s,l){o(s,t,l),c(t,n),c(n,f),c(n,h),c(n,b),x(b,e[8].name),c(t,w),c(t,N),c(N,y),c(N,E),c(N,I),x(I,e[8].subject),c(t,A),c(t,T),c(T,C),c(T,P),c(T,k),c(k,O),c(k,S),u(k,e[8].gender),c(t,D),c(t,G);for(let e=0;e<rt.length;e+=1)rt[e].m(G,null);c(t,U),c(t,H),c(H,F),c(H,B),c(H,V);for(let e=0;e<st.length;e+=1)st[e].m(V,null);u(V,e[8].teacher_id),c(t,K),c(t,J),c(J,W),c(W,Q),c(W,Z),c(W,ee),x(ee,e[8].registration_fee),c(J,ne),c(J,se),c(se,le),c(se,ie),c(se,ae),x(ae,e[8].registration_fee_offer),c(t,oe),c(t,ce),c(ce,ue),c(ue,de),c(ue,me),c(ue,_e),x(_e,e[8].price_per_hour),c(ce,he),c(ce,be),c(be,xe),c(be,ge),c(be,we),x(we,e[8].hours_per_lesson),c(t,ye),c(t,Ee),c(Ee,Ie),c(Ie,Re),c(Ie,Ae),c(Ie,Te),x(Te,e[8].invoice_cycle),c(Ee,Pe),c(Ee,ke),c(ke,Oe),c(ke,Se),c(ke,Le),c(Le,Me),c(Le,je),c(Le,$e),c(Le,De),c(Le,Ge),u(Le,e[8].state),c(t,Ue),c(t,He),c(He,ze),c(He,Fe),c(He,Be),x(Be,e[8].description),c(t,Ve),c(t,qe),c(qe,Ke),c(qe,Je),c(qe,We),x(We,e[8].notes),c(t,Qe),c(t,Xe),c(Xe,Ye),c(Ye,Ze),tt||(nt=[d(b,"input",e[17]),d(I,"input",e[18]),d(k,"change",e[19]),d(V,"change",e[23]),d(ee,"input",e[24]),d(ae,"input",e[25]),d(_e,"input",e[26]),d(we,"input",e[27]),d(Te,"input",e[28]),d(Le,"change",e[29]),d(Be,"input",e[30]),d(We,"input",e[31]),d(Ye,"click",m(z.update))],tt=!0)},p(e,t){if(256&t[0]&&b.value!==e[8].name&&x(b,e[8].name),256&t[0]&&R!==(R="IN_PREPARATION"!==e[8].state)&&(I.disabled=R),256&t[0]&&I.value!==e[8].subject&&x(I,e[8].subject),256&t[0]&&L!==(L="IN_PREPARATION"!==e[8].state)&&(k.disabled=L),256&t[0]&&u(k,e[8].gender),256&t[0]){let n;for(at=e[8].times,n=0;n<at.length;n+=1){const s=Y(e,at,n);rt[n]?rt[n].p(s,t):(rt[n]=pe(s),rt[n].c(),rt[n].m(G,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=at.length}512&t[0]&&(ot=e[9],st=M(st,t,ct,1,e,ot,lt,V,j,fe,null,X)),256&t[0]&&q!==(q="IN_PREPARATION"!==e[8].state)&&(V.disabled=q),256&t[0]&&u(V,e[8].teacher_id),256&t[0]&&te!==(te="IN_PREPARATION"!==e[8].state)&&(ee.disabled=te),256&t[0]&&g(ee.value)!==e[8].registration_fee&&x(ee,e[8].registration_fee),256&t[0]&&re!==(re="IN_PREPARATION"!==e[8].state)&&(ae.disabled=re),256&t[0]&&g(ae.value)!==e[8].registration_fee_offer&&x(ae,e[8].registration_fee_offer),256&t[0]&&ve!==(ve="IN_PREPARATION"!==e[8].state)&&(_e.disabled=ve),256&t[0]&&g(_e.value)!==e[8].price_per_hour&&x(_e,e[8].price_per_hour),256&t[0]&&Ne!==(Ne="IN_PREPARATION"!==e[8].state)&&(we.disabled=Ne),256&t[0]&&g(we.value)!==e[8].hours_per_lesson&&x(we,e[8].hours_per_lesson),256&t[0]&&Ce!==(Ce="IN_PREPARATION"!==e[8].state)&&(Te.disabled=Ce),256&t[0]&&g(Te.value)!==e[8].invoice_cycle&&x(Te,e[8].invoice_cycle),256&t[0]&&u(Le,e[8].state),256&t[0]&&x(Be,e[8].description),256&t[0]&&x(We,e[8].notes),2&t[0]&&it!==(it="UPDATING"===e[1]?"Speichert...":"Speichern")&&p(Ze,it),2&t[0]&&et!==(et="UPDATING"===e[1])&&(Ye.disabled=et)},d(e){e&&_(t),$(rt,e);for(let e=0;e<st.length;e+=1)st[e].d();tt=!1,v(nt)}}}function re(e){let t,n,l,r=e[53].homeworks_md+"";return{c(){t=s("p"),n=s("span"),n.textContent="Hausaufgaben:\n            ",l=i(r),a(n,"class","font-semibold text-teal-500")},m(e,s){o(e,t,s),c(t,n),c(t,l)},p(e,t){256&t[0]&&r!==(r=e[53].homeworks_md+"")&&p(l,r)},d(e){e&&_(t)}}}function oe(e,t){let n,r,u,d,m,f,v,h,b,x,g,w,N=t[53].title+"",y=new Date(1e3*t[53].date_to).toLocaleDateString()+"",E=t[53].notes_md+"",I=t[53].homeworks_md&&re(t);return{key:e,first:null,c(){n=s("article"),r=s("header"),u=s("h3"),d=i(N),m=l(),f=s("div"),v=i(y),h=l(),b=s("p"),x=i(E),g=l(),I&&I.c(),w=l(),a(r,"class","mb-1 text-sm font-semibold text-gray-600"),a(n,"class","p-4 mb-5 bg-white border rounded-lg shadow"),this.first=n},m(e,t){o(e,n,t),c(n,r),c(r,u),c(u,d),c(r,m),c(r,f),c(f,v),c(n,h),c(n,b),c(b,x),c(n,g),I&&I.m(n,null),c(n,w)},p(e,s){t=e,256&s[0]&&N!==(N=t[53].title+"")&&p(d,N),256&s[0]&&y!==(y=new Date(1e3*t[53].date_to).toLocaleDateString()+"")&&p(v,y),256&s[0]&&E!==(E=t[53].notes_md+"")&&p(x,E),t[53].homeworks_md?I?I.p(t,s):(I=re(t),I.c(),I.m(n,w)):I&&(I.d(1),I=null)},d(e){e&&_(n),I&&I.d()}}}function ce(e){let t,n,r,u,d,m,f,v,h,b,x,g,w,N,y,E,I,R,A,T,C,P,k,O=e[51].stats.attendance.present+"",S=e[51].stats.attendance.absent+"",L=e[51].stats.attendance.excused+"",M=e[51].stats.attendance.passive+"";return{c(){t=s("div"),n=s("div"),n.textContent="Anw.:",r=l(),u=s("div"),d=i(O),m=l(),f=s("div"),v=s("div"),v.textContent="Unent.:",h=l(),b=s("div"),x=i(S),g=l(),w=s("div"),N=s("div"),N.textContent="Ent.:",y=l(),E=s("div"),I=i(L),R=l(),A=s("div"),T=s("div"),T.textContent="Passiv:",C=l(),P=s("div"),k=i(M),a(n,"class","text-xs text-gray-700"),a(u,"class","text-sm"),a(t,"class","w-1/4"),a(v,"class","text-xs text-gray-700"),a(b,"class","text-sm"),a(f,"class","w-1/4"),a(N,"class","text-xs text-gray-700"),a(E,"class","text-sm"),a(w,"class","w-1/4"),a(T,"class","text-xs text-gray-700"),a(P,"class","text-sm"),a(A,"class","w-1/4")},m(e,s){o(e,t,s),c(t,n),c(t,r),c(t,u),c(u,d),o(e,m,s),o(e,f,s),c(f,v),c(f,h),c(f,b),c(b,x),o(e,g,s),o(e,w,s),c(w,N),c(w,y),c(w,E),c(E,I),o(e,R,s),o(e,A,s),c(A,T),c(A,C),c(A,P),c(P,k)},p(e,t){256&t[0]&&O!==(O=e[51].stats.attendance.present+"")&&p(d,O),256&t[0]&&S!==(S=e[51].stats.attendance.absent+"")&&p(x,S),256&t[0]&&L!==(L=e[51].stats.attendance.excused+"")&&p(I,L),256&t[0]&&M!==(M=e[51].stats.attendance.passive+"")&&p(k,M)},d(e){e&&_(t),e&&_(m),e&&_(f),e&&_(g),e&&_(w),e&&_(R),e&&_(A)}}}function ue(e){let t,n,r,u,d,m,f,v,h,b,x,g=e[51].stats.homeworks.done+"",w=e[51].stats.homeworks.notDone+"";return{c(){t=s("div"),n=s("div"),n.textContent="Gem.:",r=l(),u=s("div"),d=i(g),m=l(),f=s("div"),v=s("div"),v.textContent="Nicht:",h=l(),b=s("div"),x=i(w),a(n,"class","text-xs text-gray-700"),a(u,"class","text-sm"),a(t,"class","w-1/4 sm:w-1/2"),a(v,"class","text-xs text-gray-700"),a(b,"class","text-sm"),a(f,"class","w-1/4 sm:w-1/2")},m(e,s){o(e,t,s),c(t,n),c(t,r),c(t,u),c(u,d),o(e,m,s),o(e,f,s),c(f,v),c(f,h),c(f,b),c(b,x)},p(e,t){256&t[0]&&g!==(g=e[51].stats.homeworks.done+"")&&p(d,g),256&t[0]&&w!==(w=e[51].stats.homeworks.notDone+"")&&p(x,w)},d(e){e&&_(t),e&&_(m),e&&_(f)}}}function de(e){let t;return{c(){t=s("div"),t.innerHTML='<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 10.5h4m-4 3h4m9-1.5a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',a(t,"class","w-6 h-6 mr-3 red-orange-500")},m(e,n){o(e,t,n)},d(e){e&&_(t)}}}function me(e,t){let n,r,u,m,f,h,b,x,g,w,N,y,E,I,R,A,T,C,P,k,O,S,L,M,j,$,D,U=t[51].student.first_name+" "+t[51].student.last_name,H=[t[51].student.email,t[51].student.phone_number].filter(Boolean).join(", ")+"",z=(t[51].custom_price_per_hour?G.format(t[51].custom_price_per_hour/100):"Standard")+"",F=t[51].stats&&ce(t),B=t[51].stats&&ue(t);function V(){return t[32](t[51])}let q=t[51].student.invoices.length>0&&de();function K(){return t[33](t[51])}function J(){return t[34](t[51])}return{key:e,first:null,c(){n=s("div"),r=s("div"),u=s("a"),m=i(U),h=l(),b=s("div"),x=i(H),g=l(),w=s("div"),F&&F.c(),N=l(),y=s("div"),B&&B.c(),E=l(),I=s("div"),R=s("button"),A=s("span"),A.textContent="Stundenpreis",T=l(),C=i(z),P=l(),k=s("div"),q&&q.c(),O=l(),S=s("button"),S.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',L=l(),M=s("button"),M.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>',j=l(),a(u,"href",f=t[10]("../users/"+t[51].student.id)),a(b,"class","text-sm text-gray-700"),a(r,"class","w-full mb-2 sm:mb-0 sm:w-4/12"),a(w,"class","flex w-full mb-2 sm:items-center sm:mb-0 sm:w-4/12"),a(y,"class","flex items-center w-full mb-2 sm:mb-0 sm:w-2/12"),a(A,"class","sm:hidden"),a(R,"class","text-sm text-gray-600 btn"),a(I,"class","flex items-center w-full mb-2 sm:mb-0 sm:w-1/12"),a(S,"class","flex items-center justify-center w-8 h-8 mr-2 text-red-500 bg-red-100 rounded-full hover:text-red-600 hover:bg-red-200"),a(M,"class","flex items-center justify-center w-8 h-8 text-teal-500 bg-teal-100 rounded-full hover:text-teal-600 hover:bg-teal-200"),a(k,"class","flex w-full mb-2 sm:justify-end sm:items-center sm:mb-0 sm:w-1/12"),a(n,"class","flex flex-wrap px-6 py-3 text-gray-800 border-b hover:bg-gray-100"),this.first=n},m(e,t){o(e,n,t),c(n,r),c(r,u),c(u,m),c(r,h),c(r,b),c(b,x),c(n,g),c(n,w),F&&F.m(w,null),c(n,N),c(n,y),B&&B.m(y,null),c(n,E),c(n,I),c(I,R),c(R,A),c(R,T),c(R,C),c(n,P),c(n,k),q&&q.m(k,null),c(k,O),c(k,S),c(k,L),c(k,M),c(n,j),$||(D=[d(R,"click",V),d(S,"click",K),d(M,"click",J)],$=!0)},p(e,n){t=e,256&n[0]&&U!==(U=t[51].student.first_name+" "+t[51].student.last_name)&&p(m,U),1280&n[0]&&f!==(f=t[10]("../users/"+t[51].student.id))&&a(u,"href",f),256&n[0]&&H!==(H=[t[51].student.email,t[51].student.phone_number].filter(Boolean).join(", ")+"")&&p(x,H),t[51].stats?F?F.p(t,n):(F=ce(t),F.c(),F.m(w,null)):F&&(F.d(1),F=null),t[51].stats?B?B.p(t,n):(B=ue(t),B.c(),B.m(y,null)):B&&(B.d(1),B=null),256&n[0]&&z!==(z=(t[51].custom_price_per_hour?G.format(t[51].custom_price_per_hour/100):"Standard")+"")&&p(C,z),t[51].student.invoices.length>0?q||(q=de(),q.c(),q.m(k,O)):q&&(q.d(1),q=null)},d(e){e&&_(n),F&&F.d(),B&&B.d(),q&&q.d(),$=!1,v(D)}}}function pe(e){let t,n,i,m,p,f,h,b,g,w,N,y,E,I,R,A,T,C,P,k,O,S,L,M,j,$,D;function G(){e[20].call(m,e[47])}function U(){e[21].call(T,e[47])}function H(){e[22].call(L,e[47])}return{c(){t=s("div"),n=s("label"),n.textContent="Tag",i=l(),m=s("select"),p=s("option"),p.textContent="Montag",f=s("option"),f.textContent="Dienstag",h=s("option"),h.textContent="Mittwoch",b=s("option"),b.textContent="Donnerstag",g=s("option"),g.textContent="Freitag",w=s("option"),w.textContent="Samstag",N=s("option"),N.textContent="Sonntag",E=l(),I=s("div"),R=s("label"),R.textContent="von",A=l(),T=s("input"),P=l(),k=s("div"),O=s("label"),O.textContent="bis",S=l(),L=s("input"),j=l(),a(n,"for","day_"+e[47]),p.__value="MON",p.value=p.__value,f.__value="TUE",f.value=f.__value,h.__value="WED",h.value=h.__value,b.__value="THU",b.value=b.__value,g.__value="FRI",g.value=g.__value,w.__value="SAT",w.value=w.__value,N.__value="SUN",N.value=N.__value,a(m,"id","day_"+e[47]),m.disabled=y="IN_PREPARATION"!==e[8].state,void 0===e[8].times[e[47]].day&&r(G),a(t,"class","w-full mx-3 mb-5 sm:mb-0"),a(R,"for","from_"+e[47]),a(T,"type","time"),a(T,"id","from_"+e[47]),T.disabled=C="IN_PREPARATION"!==e[8].state,a(I,"class","w-full mx-3 mb-5 sm:w-auto sm:mb-0"),a(O,"for","to_"+e[47]),a(L,"type","time"),a(L,"id","to_"+e[47]),L.disabled=M="IN_PREPARATION"!==e[8].state,a(k,"class","w-full mx-3 sm:w-auto")},m(s,l){o(s,t,l),c(t,n),c(t,i),c(t,m),c(m,p),c(m,f),c(m,h),c(m,b),c(m,g),c(m,w),c(m,N),u(m,e[8].times[e[47]].day),o(s,E,l),o(s,I,l),c(I,R),c(I,A),c(I,T),x(T,e[8].times[e[47]].from),o(s,P,l),o(s,k,l),c(k,O),c(k,S),c(k,L),x(L,e[8].times[e[47]].to),c(k,j),$||(D=[d(m,"change",G),d(T,"input",U),d(L,"input",H)],$=!0)},p(t,n){e=t,256&n[0]&&y!==(y="IN_PREPARATION"!==e[8].state)&&(m.disabled=y),256&n[0]&&u(m,e[8].times[e[47]].day),256&n[0]&&C!==(C="IN_PREPARATION"!==e[8].state)&&(T.disabled=C),256&n[0]&&x(T,e[8].times[e[47]].from),256&n[0]&&M!==(M="IN_PREPARATION"!==e[8].state)&&(L.disabled=M),256&n[0]&&x(L,e[8].times[e[47]].to)},d(e){e&&_(t),e&&_(E),e&&_(I),e&&_(P),e&&_(k),$=!1,v(D)}}}function fe(e,t){let n,l,a,r=t[43]+" "+t[44];return{key:e,first:null,c(){n=s("option"),l=i(r),n.__value=a=t[42],n.value=n.__value,this.first=n},m(e,t){o(e,n,t),c(n,l)},p(e,s){t=e,512&s[0]&&r!==(r=t[43]+" "+t[44])&&p(l,r),512&s[0]&&a!==(a=t[42])&&(n.__value=a,n.value=n.__value)},d(e){e&&_(n)}}}function _e(e){let t,n,i,r,u,d,m;const p=[he,ve],f=[];function v(e,t){return e[2]?0:e[5]?1:-1}return~(u=v(e))&&(d=f[u]=p[u](e)),{c(){t=s("div"),n=s("div"),i=l(),r=s("div"),d&&d.c(),a(n,"class","absolute top-0 left-0 z-40 w-full h-full bg-black opacity-75"),a(r,"class","absolute top-0 left-0 z-50 flex items-end justify-center w-full h-full p-4 sm:items-center"),a(t,"class","fixed top-0 left-0 z-20 w-full min-h-screen")},m(e,s){o(e,t,s),c(t,n),c(t,i),c(t,r),~u&&f[u].m(r,null),m=!0},p(e,t){let n=u;u=v(e),u===n?~u&&f[u].p(e,t):(d&&(I(),R(f[n],1,1,()=>{f[n]=null}),A()),~u?(d=f[u],d?d.p(e,t):(d=f[u]=p[u](e),d.c()),E(d,1),d.m(r,null)):d=null)},i(e){m||(E(d),m=!0)},o(e){R(d),m=!1},d(e){e&&_(t),~u&&f[u].d()}}}function ve(e){let t,n;return t=new K({props:{enrollment:e[5]}}),t.$on("updated",e[39]),t.$on("cancel",e[40]),{c(){C(t.$$.fragment)},m(e,s){P(t,e,s),n=!0},p(e,n){const s={};32&n[0]&&(s.enrollment=e[5]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function he(e){let t,n,r,u,h,b,x,g,w,N,y,E,I,R,A,T,C=[],P=new Map,k="CREATING_ENROLLMENT"===e[1]?"Einen Moment...":"Hinzufügen",O=e[9];const S=e=>e[42];for(let t=0;t<O.length;t+=1){let n=J(e,O,t),s=S(n);P.set(s,C[t]=be(s,n))}return{c(){t=s("div"),n=s("header"),n.innerHTML='<p class="m-0 text-xl">Schüler zur Klasse hinzufügen</p>',r=l(),u=s("div"),h=s("form"),h.innerHTML='<input type="text" placeholder="Schüler suchen"/>',b=l(),x=s("ul");for(let e=0;e<C.length;e+=1)C[e].c();g=l(),w=s("footer"),N=s("button"),N.textContent="Abbrechen",y=l(),E=s("button"),I=i(k),a(n,"class","p-4 bg-white"),a(x,"class","mt-3"),a(u,"class","p-4 bg-white"),a(N,"class","btn btn--secondary"),E.disabled=R=!e[6]||"CREATING_ENROLLMENT"===e[1],a(E,"class","btn btn--primary"),a(w,"class","flex justify-between p-4 bg-gray-200"),a(t,"class","w-full overflow-hidden bg-gray-100 rounded shadow sm:w-2/3 md:w-1/2 lg:w-1/3 xl:w-1/4")},m(s,l){o(s,t,l),c(t,n),c(t,r),c(t,u),c(u,h),c(u,b),c(u,x);for(let e=0;e<C.length;e+=1)C[e].m(x,null);c(t,g),c(t,w),c(w,N),c(w,y),c(w,E),c(E,I),A||(T=[d(h,"input",m(e[35])),d(N,"click",e[37]),d(E,"click",e[38])],A=!0)},p(e,t){576&t[0]&&(O=e[9],C=M(C,t,S,1,e,O,P,x,j,be,null,J)),2&t[0]&&k!==(k="CREATING_ENROLLMENT"===e[1]?"Einen Moment...":"Hinzufügen")&&p(I,k),66&t[0]&&R!==(R=!e[6]||"CREATING_ENROLLMENT"===e[1])&&(E.disabled=R)},i:f,o:f,d(e){e&&_(t);for(let e=0;e<C.length;e+=1)C[e].d();A=!1,v(T)}}}function be(e,t){let n,r,u,m,f,v,h,b,x,g,w=t[43]+" "+t[44],N=t[45]+"";function y(){return t[36](t[42])}return{key:e,first:null,c(){n=s("li"),r=s("div"),u=i(w),m=l(),f=s("div"),v=i(N),h=l(),a(f,"class","text-sm text-gray-700"),a(n,"class",b="p-2 cursor-pointer rounded border border-transparent "+(t[6]===t[42]?"border-teal-500":"")),this.first=n},m(e,t){o(e,n,t),c(n,r),c(r,u),c(n,m),c(n,f),c(f,v),c(n,h),x||(g=d(n,"click",y),x=!0)},p(e,s){t=e,512&s[0]&&w!==(w=t[43]+" "+t[44])&&p(u,w),512&s[0]&&N!==(N=t[45]+"")&&p(v,N),576&s[0]&&b!==(b="p-2 cursor-pointer rounded border border-transparent "+(t[6]===t[42]?"border-teal-500":""))&&a(n,"class",b)},d(e){e&&_(n),x=!1,g()}}}function xe(e){let t,n;return t=new F({props:{show:e[3],requestClassChange:!0,oldClassId:e[7].id,student:e[4]}}),{c(){C(t.$$.fragment)},m(e,s){P(t,e,s),n=!0},p(e,n){const s={};8&n[0]&&(s.show=e[3]),128&n[0]&&(s.oldClassId=e[7].id),16&n[0]&&(s.student=e[4]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function ge(e){let t,n,s,i;function a(e,t){return"FETCHING"===e[1]?ee:Z}let r=a(e),c=r(e),u=(e[2]||e[5])&&_e(e),d=e[4]&&xe(e);return{c(){c.c(),t=l(),u&&u.c(),n=l(),d&&d.c(),s=y()},m(e,l){c.m(e,l),o(e,t,l),u&&u.m(e,l),o(e,n,l),d&&d.m(e,l),o(e,s,l),i=!0},p(e,l){r===(r=a(e))&&c?c.p(e,l):(c.d(1),c=r(e),c&&(c.c(),c.m(t.parentNode,t))),e[2]||e[5]?u?(u.p(e,l),36&l[0]&&E(u,1)):(u=_e(e),u.c(),E(u,1),u.m(n.parentNode,n)):u&&(I(),R(u,1,1,()=>{u=null}),A()),e[4]?d?(d.p(e,l),16&l[0]&&E(d,1)):(d=xe(e),d.c(),E(d,1),d.m(s.parentNode,s)):d&&(I(),R(d,1,1,()=>{d=null}),A())},i(e){i||(E(u),E(d),i=!0)},o(e){R(u),R(d),i=!1},d(e){c.d(e),e&&_(t),u&&u.d(e),e&&_(n),d&&d.d(e),e&&_(s)}}}function we(e,t,n){let s,l,i,a,r,o;h(e,H,e=>n(1,s=e)),h(e,O,e=>n(11,l=e)),h(e,S,e=>n(7,i=e)),h(e,z,e=>n(8,a=e)),h(e,U,e=>n(9,r=e)),h(e,L,e=>n(10,o=e)),T.title="My Routify app",T.description="Description coming soon...";let c,u,d,m="settings",p=!1,f=!1;z.fetch(i.id);return e.$$.update=()=>{1&e.$$.dirty[0]&&"settings"===m&&U.fetch({role:"TEACHER"}),2050&e.$$.dirty[0]&&"DELETED"===s&&l("../"),2&e.$$.dirty[0]&&"CREATED_ENROLLMENT"===s&&(n(2,p=!1),H.reset())},[m,s,p,f,c,u,d,i,a,r,o,l,function(){m=this.__value,n(0,m)},[[]],function(){m=this.__value,n(0,m)},function(){m=this.__value,n(0,m)},()=>{n(2,p=!p),U.reset()},function(){a.name=this.value,z.set(a)},function(){a.subject=this.value,z.set(a)},function(){a.gender=N(this),z.set(a)},function(e){a.times[e].day=N(this),z.set(a)},function(e){a.times[e].from=this.value,z.set(a)},function(e){a.times[e].to=this.value,z.set(a)},function(){a.teacher_id=N(this),z.set(a)},function(){a.registration_fee=g(this.value),z.set(a)},function(){a.registration_fee_offer=g(this.value),z.set(a)},function(){a.price_per_hour=g(this.value),z.set(a)},function(){a.hours_per_lesson=g(this.value),z.set(a)},function(){a.invoice_cycle=g(this.value),z.set(a)},function(){a.state=N(this),z.set(a)},function(){a.description=this.value,z.set(a)},function(){a.notes=this.value,z.set(a)},e=>n(5,u=e),e=>z.delEnrollment(e.id),e=>{n(4,c={enrollment_id:e.id,...e.student}),n(3,f=!f)},e=>{n(6,d=null),U.search(e.target.value,{roles:["STUDENT"],page_size:3})},e=>n(6,d=d===e?null:e),()=>n(2,p=!1),()=>z.createEnrollment(d,a.id),()=>n(5,u=null),()=>n(5,u=null)]}class Ne extends e{constructor(e){super(),t(this,e,we,ge,n,{},null,[-1,-1])}}export{Ne as default};
//# sourceMappingURL=_id_-0de321d9.js.map
