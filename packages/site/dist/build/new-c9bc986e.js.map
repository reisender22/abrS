{"version":3,"file":"new-c9bc986e.js","sources":["../../src/pages/admins/classes/new.svelte"],"sourcesContent":["<script>\n  import { users } from \"../../../stores/users\";\n  import { clss, status } from \"../../../stores/class\";\n  import { metatags, redirect } from \"@roxi/routify\";\n\n  metatags.title = \"Neue Klasse\";\n  metatags.description = \"Description coming soon...\";\n\n  status.reset();\n\n  users.fetch({ role: \"TEACHER\" });\n\n  let classInput = {\n    name: \"\",\n    subject: \"\",\n    level: \"\",\n    times: [{ day: \"FRI\", from: \"18:00\", to: \"20:00\" }],\n    gender: \"MALE\",\n    description_md: \"\",\n    price_per_hour: 1000,\n    registration_fee: 2500,\n    registration_fee_offer: 0,\n    hours_per_lesson: 2,\n    invoice_cycle: 8,\n    teacher_id: \"\",\n    notes: \"\",\n  };\n\n  $: if ($status === \"CREATED\") $redirect(\"../classes\");\n</script>\n\n<h1>Neue Klasse</h1>\n\n<form on:submit|preventDefault={() => clss.create(classInput)}>\n  <div class=\"mb-5\">\n    <label for=\"name\">Name (optional)</label>\n    <input type=\"text\" bind:value={classInput.name} id=\"name\" />\n  </div>\n\n  <div class=\"mb-5\">\n    <label for=\"subject\">Fach</label>\n    <input type=\"text\" bind:value={classInput.subject} id=\"subject\" />\n  </div>\n\n  <div class=\"mb-5\">\n    <label for=\"gender\">Klasse für</label>\n    <select bind:value={classInput.gender} id=\"gender\">\n      <option value=\"MALE\">Brüder</option>\n      <option value=\"FEMALE\">Schwestern</option>\n    </select>\n  </div>\n\n  <div class=\"flex mb-5 -mx-3\">\n    {#each classInput.times as time, index}\n      <div class=\"w-full mx-3\">\n        <label for=\"day_{index}\">Tag</label>\n        <select bind:value={classInput.times[index].day} id=\"day_{index}\">\n          <option value=\"MON\">Montag</option>\n          <option value=\"TUE\">Dienstag</option>\n          <option value=\"WED\">Mittwoch</option>\n          <option value=\"THU\">Donnerstag</option>\n          <option value=\"FRI\">Freitag</option>\n          <option value=\"SAT\">Samstag</option>\n          <option value=\"SUN\">Sonntag</option>\n        </select>\n      </div>\n\n      <div class=\"mx-3\">\n        <label for=\"from_{index}\">von</label>\n        <input\n          type=\"time\"\n          bind:value={classInput.times[index].from}\n          id=\"from_{index}\" />\n      </div>\n\n      <div class=\"mx-3\">\n        <label for=\"to_{index}\">bis</label>\n        <input\n          type=\"time\"\n          bind:value={classInput.times[index].to}\n          id=\"to_{index}\" />\n      </div>\n    {/each}\n  </div>\n\n  <div class=\"mb-5\">\n    <label for=\"teacher_id\">Lehrer</label>\n    <select bind:value={classInput.teacher_id} id=\"teacher_id\">\n      {#each $users as { id, first_name, last_name }, index (id)}\n        <option value=\"\" />\n        <option value={id}>{first_name + ' ' + last_name}</option>\n      {/each}\n    </select>\n  </div>\n\n  <div class=\"flex mb-5 -mx-3\">\n        <div class=\"w-1/2 mx-3\">\n          <label for=\"registration_fee\">Registrierungsgebühr (in Cents)</label>\n          <input\n            type=\"number\"\n            bind:value={classInput.registration_fee}\n            id=\"registration_fee\"\n            min=\"0\" />\n        </div>\n\n        <div class=\"w-1/2 mx-3\">\n          <label for=\"registration_fee_offer\">Registrierungsgebühr Angebot (in Cents)</label>\n          <input\n            type=\"number\"\n            bind:value={classInput.registration_fee_offer}\n            id=\"registration_fee_offer\"\n            min=\"0\" />\n        </div>\n      </div>\n\n      <div class=\"flex mb-5 -mx-3\">\n        <div class=\"w-1/2 mx-3\">\n          <label for=\"price_per_hour\">Preis je Stunde (in Cents)</label>\n          <input\n            type=\"number\"\n            bind:value={classInput.price_per_hour}\n            id=\"price_per_hour\"\n            min=\"0\" />\n        </div>\n\n        <div class=\"w-1/2 mx-3\">\n          <label for=\"hours_per_lesson\">Stunden je Unterricht</label>\n          <input\n            type=\"number\"\n            bind:value={classInput.hours_per_lesson}\n            id=\"hours_per_lesson\"\n            min=\"1\" />\n        </div>\n      </div>\n      \n      <div class=\"flex mb-5 -mx-3\">\n        <div class=\"w-1/2 mx-3\">\n          <label for=\"invoice_cycle\">Abrechnungszyklus in Stunden</label>\n          <input\n            type=\"number\"\n            bind:value={classInput.invoice_cycle}\n            id=\"invoice_cycle\"\n            min=\"0\" />\n        </div>\n      </div>\n\n  <div class=\"mb-5\">\n    <label for=\"description\">Beschreibung (Markdown wird unterstützt)</label>\n    <textarea rows=\"5\" bind:value={classInput.description} id=\"description\" />\n  </div>\n\n  <div class=\"mb-5\">\n    <label for=\"notes\">Notizen (nicht öffentlich)</label>\n    <textarea rows=\"3\" bind:value={classInput.notes} id=\"notes\" />\n  </div>\n\n  <button class=\"btn btn--primary\" disabled={$status === 'CREATING'}>\n    {$status === 'CREATING' ? 'Bitte warten...' : 'Erstellen'}\n  </button>\n</form>\n"],"names":["ctx","times","day","add_render_callback","select_change_handler","insert","target","div0","anchor","append","label0","select","option0","option1","option2","option3","option4","option5","option6","select_option","div1","label1","input0","set_input_value","from","div2","label2","input1","to","set_data","t","t_value","t38_value","each_value_1","length","i","gender","call","select0","teacher_id","select1","button","disabled","button_disabled_value","h1","form","name","subject","div3","div4","label3","div7","div5","label4","input2","registration_fee","div6","label5","input3","registration_fee_offer","div10","div8","label6","input4","price_per_hour","div9","label7","input5","hours_per_lesson","div12","div11","label8","input6","invoice_cycle","div13","label9","textarea0","description","div14","label10","textarea1","notes","dirty","value","to_number","t38","metatags","title","status","reset","users","fetch","role","classInput","level","description_md","$status","$redirect","this","select_value","index","clss","create"],"mappings":"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"}