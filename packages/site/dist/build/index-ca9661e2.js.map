{"version":3,"file":"index-ca9661e2.js","sources":["../../src/pages/teachers/classes/index.svelte"],"sourcesContent":["<script>\n  import { classes, status } from \"../../../stores/classes\";\n  import { session } from \"../../../stores/session\";\n  import { getTimeString } from \"../../../utils/time\";\n  import { metatags, url } from \"@roxi/routify\";\n\n  metatags.title = \"Meine Klassen\";\n  metatags.description = \"Description coming soon...\";\n\n  classes.fetch();\n\n  const StateArray = [\n    [\"IN_PREPARATION\", \"in Vorbereitung\", \"purple\"],\n    [\"OPEN_FOR_REGISTRATION\", \"Anmeldung geöffnet\", \"blue\"],\n    [\"ONGOING\", \"laufend\", \"yellow\"],\n    [\"COMPLETED\", \"abgeschlossen\", \"teal\"],\n    [\"CANCELLED\", \"abgebrochen\", \"red\"],\n  ];\n\n  function formatClassState(state) {\n    return StateArray.find((s) => s[0] === state)[1];\n  }\n\n  function getClassStateColor(state) {\n    return StateArray.find((s) => s[0] === state)[2];\n  }\n</script>\n\n<h1>Meine Klassen</h1>\n\n{#if $status === 'FETCHING'}\n  <p>Loading...</p>\n{:else if $classes.length > 0}\n  <div class=\"overflow-hidden border rounded shadow-md\">\n    <header\n      class=\"hidden px-6 py-2 text-sm leading-none tracking-wide text-gray-600 bg-gray-200 border-b md:flex\">\n      <div class=\"w-4/12\">Fach</div>\n      <div class=\"w-4/12 text-center\">Lehrer</div>\n      <div class=\"w-1/12 text-center\">Schüler</div>\n      <div class=\"w-3/12 text-center\">Status</div>\n    </header>\n    <ul class=\"bg-white\">\n      {#each $classes.filter(c => c.teacher.id == $session.user.id) as clss, index (clss.id)}\n        <a\n          href={clss.state !== 'IN_PREPARATION' || clss.state !== 'OPEN_FOR_REGISTRATION' ? $url('./' + clss.id) : '#'}\n          class=\"flex flex-wrap px-6 py-3 text-gray-800 border-b hover:bg-gray-100\">\n          <div class=\"w-full mb-2 sm:mb-0 sm:w-4/12\">\n            <div>{clss.subject}</div>\n            <div class=\"text-sm text-gray-700\">{getTimeString(clss.times)}</div>\n          </div>\n\n          <div class=\"flex w-full mb-2 text-gray-700 sm:items-center sm:justify-center sm:mb-0 sm:w-4/12\">\n            <div>{clss.teacher.first_name + ' ' + clss.teacher.last_name}</div>\n          </div>\n\n          <div class=\"flex w-full mb-2 sm:items-center sm:justify-center sm:mb-0 sm:w-1/12\">\n            <div>{clss.enrollments.length}</div>\n          </div>\n\n          <div class=\"flex w-full mb-2 sm:items-center sm:justify-center sm:mb-0 sm:w-3/12\">\n            <div\n              class=\"px-4 py-1 text-sm leading-none text-{getClassStateColor(clss.state)}-600\n                bg-{getClassStateColor(clss.state)}-100 rounded-full\">\n              {formatClassState(clss.state)}\n            </div>\n          </div>\n        </a>\n      {/each}\n    </ul>\n  </div>\n{:else}\n  <div>keine Klassen</div>\n{/if}\n"],"names":["insert","target","div","anchor","each_value","ctx","filter","get_key","id","length","i","div4","append","header","ul","p","t0_value","subject","getTimeString","times","teacher","first_name","last_name","enrollments","state","a","div2","div0","div1","div3","div6","div5","div8","div7","dirty","set_data","t0","t2","t2_value","t4","t4_value","t6","t6_value","t8","t8_value","create_if_block","create_if_block_1","h1","metatags","title","description","classes","fetch","StateArray","find","s","c","$session","user"],"mappings":"+gBAuEEA,EAAwBC,EAAAC,EAAAC,gEA7BbC,EAAAC,KAASC,OAAMD,EAAA,IAAwD,MAAAE,EAAAF,GAAAA,KAAKG,mBAAjFC,OAAIC,GAAA,EAAA,whBATVV,EAoCMC,EAAAU,EAAAR,GAnCJS,EAMSD,EAAAE,UACTD,EA2BKD,EAAAG,6DA1BIV,EAAAC,KAASC,OAAMD,EAAA,qKAX1BL,EAAiBC,EAAAc,EAAAZ,uFAgBDa,EAAAX,KAAKY,QAAO,KACkBC,EAAcb,EAAI,GAACc,OAAK,KAItDd,EAAI,GAACe,QAAQC,WAAa,IAAMhB,EAAI,GAACe,QAAQE,YAI7CjB,EAAI,GAACkB,YAAYd,OAAM,KAO1BJ,EAAgB,GAACA,EAAI,GAACmB,OAAK,ygBAFgBnB,EAAkB,GAACA,EAAK,GAAAmB,kBAC9DnB,EAAkB,GAACA,EAAI,GAACmB,OAAK,sHAlBlB,mBAAfnB,EAAI,GAACmB,OAA6C,0BAAfnB,EAAI,GAACmB,MAAoCnB,EAAK,GAAA,KAAOA,KAAKG,IAAM,2GAD3GR,EAuBIC,EAAAwB,EAAAtB,GApBFS,EAGMa,EAAAC,GAFJd,EAAyBc,EAAAC,iBACzBf,EAAoEc,EAAAE,iBAGtEhB,EAEMa,EAAAd,GADJC,EAAmED,EAAAkB,iBAGrEjB,EAEMa,EAAAK,GADJlB,EAAoCkB,EAAAC,iBAGtCnB,EAMMa,EAAAO,GALJpB,EAIMoB,EAAAC,6BAjBA,EAAAC,GAAAlB,KAAAA,EAAAX,KAAKY,QAAO,KAAAkB,EAAAC,EAAApB,eACkBE,EAAcb,EAAI,GAACc,OAAK,KAAAgB,EAAAE,EAAAC,eAItDjC,EAAI,GAACe,QAAQC,WAAa,IAAMhB,EAAI,GAACe,QAAQE,YAASa,EAAAI,EAAAC,eAItDnC,EAAI,GAACkB,YAAYd,OAAM,KAAA0B,EAAAM,EAAAC,eAO1BrC,EAAgB,GAACA,EAAI,GAACmB,OAAK,KAAAW,EAAAQ,EAAAC,sDAFgBvC,EAAkB,GAACA,EAAK,GAAAmB,kBAC9DnB,EAAkB,GAACA,EAAI,GAACmB,OAAK,kDAlBlB,mBAAfnB,EAAI,GAACmB,OAA6C,0BAAfnB,EAAI,GAACmB,MAAoCnB,EAAK,GAAA,KAAOA,KAAKG,IAAM,4EAd9G,MAAY,aAAZH,KAAsBwC,EAEjBxC,EAAQ,GAACI,OAAS,EAACqC,mGAJ7B9C,EAAsBC,EAAA8C,EAAA5C,yQAtBpB6C,EAASC,MAAQ,gBACjBD,EAASE,YAAc,6BAEvBC,EAAQC,cAEFC,EAAU,EACb,iBAAkB,kBAAmB,WACrC,wBAAyB,qBAAsB,SAC/C,UAAW,UAAW,WACtB,YAAa,gBAAiB,SAC9B,YAAa,cAAe,uBAGtB,SAAiB7B,UACjB6B,EAAWC,KAAMC,GAAMA,EAAE,KAAO/B,GAAO,IAGvC,SAAmBA,UACnB6B,EAAWC,KAAMC,GAAMA,EAAE,KAAO/B,GAAO,IAkBrBgC,GAAKA,EAAEpC,QAAQZ,IAAMiD,EAASC,KAAKlD"}